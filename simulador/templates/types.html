{% load static %}


{% block styles %}
  <link href="{% static "css/credits.css" %}" rel="stylesheet">
{% endblock styles %}
    
    <div id="flex-container">
      <h2 class="title-2">2. Selecciona tu linea y tipo de credito</h2>
      <div class="options">
        <p id="bt-type-1" class="bt-type select">Creditos Deuda / Aporte</p>
        <p id="bt-type-2" class="bt-type">Creditos Extracupo</p>
      </div>

        <div class="type-1 visible-1" id="type-1">
          {% include "types/deuda.html" %}
        </div>
        <div class="type-2" id="type-2">
          {% include "types/extracupo.html" %}
        </div>
    </div>

    <script>
      
      window.addEventListener('scroll', function() {
      const componente = document.getElementById('flex-container');
      const rect = componente.getBoundingClientRect();
      const isVisible = rect.top <= window.innerHeight && rect.bottom >= 0;
    
      if (isVisible) {
        componente.classList.add('visible');
      } else {
        componente.classList.remove('visible');
      }
    });

    bt1 = document.getElementById('bt-type-1')
    bt2 = document.getElementById('bt-type-2')

    t1 = document.getElementById('type-1')
    t2 = document.getElementById('type-2')

    typecredit2 = document.getElementById('typecredit2')
    typecredit1 = document.getElementById('typecredit1')
    
    monto1 = document.getElementById('monto1')
    monto2 = document.getElementById('monto2')

    cuotas1 = document.getElementById('cuotas1')
    cuotas2 = document.getElementById('cuotas2')

    bt1.addEventListener('click', () => {
      if (!t1.classList.contains('visible-1')) {
        t1.classList.add('visible-1');
        t2.classList.remove('visible-2');
        bt1.classList.add('select')
        bt2.classList.remove('select')
        typecredit1.required = true
        monto1.required = true
        cuotas1.required = true
        typecredit2.required = false
        monto2.value = ''
        cuotas2.value = ''
        typecredit2.value = ''
        monto2.required = false
        cuotas2.required = false
      }
    })
    bt2.addEventListener('click', () => {
      if (!t2.classList.contains('visible-2')) {
        t2.classList.add('visible-2');
        t1.classList.remove('visible-1');
        bt1.classList.remove('select')
        bt2.classList.add('select')
        typecredit2.required = true
        monto2.required = true
        cuotas2.required = true
        typecredit1.required = false
        monto1.required = false
        cuotas1.required = false
        monto1.value = ''
        cuotas1.value = ''
        typecredit1.value = ''
      }
    })
  </script>